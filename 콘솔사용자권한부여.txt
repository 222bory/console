CREATE ROLE con_dml
  NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;

  CREATE ROLE con_admin
  NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;

CREATE ROLE con LOGIN
  NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;

ALTER ROLE con
  SET search_path = con, public;
GRANT con_admin TO con;


CREATE ROLE con_user LOGIN
  NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;

ALTER ROLE con_user
  SET search_path = con, public;
GRANT con_dml TO con_user;


CREATE SCHEMA con
  AUTHORIZATION postgres;

GRANT ALL ON SCHEMA con TO postgres;
GRANT ALL ON SCHEMA con TO con_admin;
GRANT USAGE ON SCHEMA con TO con_dml;

ALTER DEFAULT PRIVILEGES IN SCHEMA con
    GRANT INSERT, SELECT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER ON TABLES
    TO con_admin;

ALTER DEFAULT PRIVILEGES IN SCHEMA con
    GRANT INSERT, SELECT, UPDATE, DELETE ON TABLES
    TO con_dml;


ALTER DEFAULT PRIVILEGES IN SCHEMA con
    GRANT SELECT, UPDATE, USAGE ON SEQUENCES
    TO con_admin;

ALTER DEFAULT PRIVILEGES IN SCHEMA con
    GRANT USAGE ON SEQUENCES
    TO con_dml;

ALTER DEFAULT PRIVILEGES IN SCHEMA con
    GRANT EXECUTE ON FUNCTIONS
    TO con_admin;

ALTER DEFAULT PRIVILEGES IN SCHEMA con
    GRANT EXECUTE ON FUNCTIONS
    TO con_dml;
